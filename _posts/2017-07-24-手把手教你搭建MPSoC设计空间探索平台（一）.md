---
layout: post
title: 手把手教你搭建MPSoC设计空间探索平台（一）
date: 2017-07-24
categories: Tech
tags: [Eaasy,Tech]
description: 手把手教你搭建MPSoC设计空间探索平台系列文章之一。MULTICUBE是一个开源MPSoC架构探索平台，为芯片设计者在设计早期获得最优芯片架构提供了一整套的自动寻优工具，其集成了FEMO、GEMO、NSGA-II、SEMO、MOSA等众多多目标优化算法，同时软硬件协同设计也为硅后验证和测试提供了便利，加速了芯片的量产和投产。
---

MPSoC设计空间探索是一门理论和工程紧耦合的课程。随着集成电路工艺的进步，处理器的集成度和复杂度呈指数级地增长，其带来性能提升的同时也使得功耗、面积、散热和可靠性等问题变得日益突出。因此，当前结构设计者面临的首要挑战就是在各种约束目标（如功耗、面积、可靠性等）下如何使得所设计的处理器能够达到最佳的性能。为了实现该目标，设计者通常需要考虑各种不同设计参数组合对处理器性能及相应约束目标（如功耗等）的影响，而如何调整这些具体的设计参数以得到最佳的设计结构就是处理器的设计空间探索问题。


在传统的工业级处理器设计过程中，一般首先由有经验的系统架构师确定整体结构，如核的数目、流水级的划分和存储层次的组织等，然后调整具体的细粒度的体系结构参数，如功能单元的数目、寄存器堆的大小和访存队列的大小等，以满足事先指定的设计目标。显而易见，这样经验性的方法难以保证设计出最优的处理器结构。可以说，处理器设计面临的重要挑战是如何在庞大的设计空间中高效地找到满足约束的设计结构，设计处理器芯片建构探索平台是高性能处理器芯片设计的题中应有之义。


MULTICUBE是一个开源MPSoC架构探索平台，为芯片设计者在设计早期获得最优芯片架构提供了一整套的自动寻优工具，其集成了FEMO、GEMO、NSGA-II、SEMO、MOSA等众多多目标优化算法，同时软硬件协同设计也为硅后验证和测试提供了便利，加速了芯片的量产和投产。

本篇文档主要介绍MULTICUBE平台的搭建步骤，由于开源项目的说明文档较为简洁，且现有版本库代码也有纰漏，因此感兴趣的研究者们借助于本篇文档可以避开这些隐藏的陷阱。


## 系统要求

建议使用Ubuntu 12.04，因为项目的历史原因，在我们尝试过14.04/16.04版本之后，12.04版本是最适合的。

## 工具及库安装
g++
flex
bison
cmake
zlib1g
zlib1g-dev
libtinyxml-dev
SystemC-2.2.0
注意：1-7可以借助于apt-get进行安装，而SystemC则需要下载之后手动安装。

## Build SCoPE
在编译SCoPE之前，先设置一下环境变量，包括
CXX
SYSTEMC
SCOPE_HOME
SCOPE_XML_PLUGIN
PATH=$PATH:$SCOPE_HOME/bin
然后在下载的SCoPE-V1.1.5主目录下，执行make all就行（网站上面提示make libraries是错误的）。

### 可能的错误：uc_fops.h
### 解决方法：在头文件中加入include <cstddef>

编译完成后，执行make test应该是有问题的，比较合适的做法是进入test目录下面，针对某一个test进行测试。

到这一步恭喜你已经成功安装好SCoPE了。

https://mp.weixin.qq.com/s/NerTTu8_GBOqBM708e2VjQ